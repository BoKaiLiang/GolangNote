# 04-3-15 程式語法 Goroutine

## 輕型執行緒 (Goroutine)

1. Go 主要特色易於使用的併行設計，叫做 Goroutine。達到異步方式執行，不需要擔心函式導致程式中斷，因此 Go 適合網路服務。
2. 例子：
```
func main() {
    // 假設 loop 是一個會重複執行十次的迴圈函式。
    // 迴圈執行完畢才會往下執行。
    loop()
 // 執行另一個迴圈。
 loop()
}
```
```
func main() {
    // 透過 `go`，我們可以把這個函式同步執行，
    // 如此一來這個函式就不會阻塞主程式的執行。
    go loop()
 // 執行另一個迴圈。
 loop()
}
```

3. 一個 Go 程式可以執行超過數萬個 Goroutine, 這些效能都是原生級，隨時都能關閉、結束，且運行再多個處理器執行緒上。
4. 內建官方套件也能看到 Goroutine 的應用。像是 net/http 用來監聽網路服務的函式實際上是建立一個不斷執行迴圈的 Goroutine。同時搭配了epoll 等IO多路復用機制維護Goroutine的事件迴圈。