# 04-3-03 程式語法 常數

## 前言提要

* Ref. [資料來源](https://www.cnblogs.com/howDo/archive/2013/04/15/GoLang-Constant.html)

## 常數

* Go 常量和 C# 概念相同，在編譯期間被創建，需要確認其值，所以在宣告常數有些限制
	* 類型需要是：數值、字串、bool
	* 表達式必須在編譯期間可計算。
	* 宣告常數，需要初始化，其值不可以再次修改。

* 語法
	* `const` 關鍵字用於 宣告常數 `const Pi = 3.14159265358`
	* 可宣告多個常數 `const a, b, c = 1, false, "str"`
	* 宣告表達式，如下
	```
	// 正確 : 需要計算的表達式
	const d = 1 << 2

	// 正確 : 批量宣告多個常數
	const (
		Monday, Tuesday, Wednesday = 1, 2, 3
		Thursday, Friday, Saturday = 4, 5, 6
	)

	// 正確 : 宣告多個變數，指定型態
	const e, f float64 = 1, 2/1.0

	// 錯誤 : 不能分別指定型態，型態後面需要跟著 =
	const g int, h float64 = 1, 2/1.0
	```

## iota

* Go 使用常量 iota 計數器，只能在常數表達式中使用。
* iota 在 const 關鍵字出現時，被重置為 0 (const 內部的第一行之前)
	* const 中每新增一行常數宣告，將使 iota 計數一次
	* iota 可理解為 const 語句中的索引
	* 使用 iota 能簡化定義，在定義 enum 很好用
	```
	// 編譯錯誤 : iota 只能在 const 內部使用
	fmt.Println(iota)

	// 正確 : iota 從 0 開始計數
	const a = iota       // a = 0
	const (
		b = iota         // b = 0
		c                // c = 1
	)

	// 正確 : iota 可以在表達式中
	const (
		loc0, bit0 uint32 = iota, 1 << iota        // loc0 = 0, bit0 = 1
		loc1, bit1      // loc1 = 1, bit1 = 2
		loc2, bit2      // loc2 = 2, bit2 = 4
	)

	// 正確 : 在同一行 iota 相同
	const (
		e, f, g = iota, iota, iota       // e = 0, f = 0, g = 0
	)
	
	// 正確 : 雖然只使用了兩次 iota，但每新起一行 iota 都會計數
	const (
		h = iota      // h = 0
		i = 100       // i = 100
		j             // j = 
		k = iota      // k = 3
	)
	```